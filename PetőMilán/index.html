
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
      .viewable-image {
        transition: all 0.15s ease-in-out;
        position: relative;
        z-index: 1;
      }

      @media (min-width: 768px) {
        .viewable-image:hover {
          transform: scale(1.05);
          z-index: 1000;
        }
      }

      body {
        font-family: monospace;
      }

      body::-webkit-scrollbar {
        display: none;
      }

      html, body {
        scrollbar-width: none;
        overflow: hidden;
      }

      @media (max-width: 768px),
             (max-height: 640px),
             (pointer: coarse) {
        html, body { overflow-y: auto; }
      }

      .reveal-section {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .animation-item {
        opacity: 0;
      }

      .animation-item.scrolled { opacity: 1; }

      /* Animáció típusok */
      .scrolled.fade-in          { animation: fade-in 1.0s ease-in-out both; }
      .scrolled.slide-left       { animation: slide-in-left 0.5s ease-in-out both; }
      .scrolled.slide-right      { animation: slide-in-right 0.5s ease-in-out both; }

      .scrolled.fade-in-slow     { animation: fade-in 1.5s ease-in-out both; }
      .scrolled.slide-left-slow  { animation: slide-in-left 1.0s ease-in-out both; }
      .scrolled.slide-right-slow { animation: slide-in-right 1.0s ease-in-out both; }

      /* Animációk */
      @keyframes slide-in-left {
        0% {
          -webkit-transform: translateX(-35%);
          transform: translateX(-35%);
          opacity: 0;
        }
        100% {
          -webkit-transform: translateX(0%);
          transform: translateX(0%);
          opacity: 1;
        }
      }

      @keyframes slide-in-right {
        0% {
          -webkit-transform: translateX(35%);
          transform: translateX(35%);
          opacity: 0;
        }
        100% {
          -webkit-transform: translateX(0);
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes fade-in {
        0%   { opacity: 0; }
        100% { opacity: 1; }
      }
    </style>
  </head>

  <body class="text-white">
    </section>
    <!-- 1. oldal: [Cím]
         +----------------------------+
         |                            |
         |           <LOGO>           |
         |                            |
         +----------------------------+ -->
    <section class="reveal-section" style="background-color: #af2f28;">
      <div class="row">
        <img src="logo.png" class="animation-item fade-in" style="max-width: 500px;">
      </div>
    </section>

    <!-- 2. oldal: [Történet, 2 kép: ["Giulia", "Spider"]]
         +----------------------------+
         | [           ^^           ] |
         | +----------+  +----------+ |
         | |   ->     |  |     <-   | |
         | +----------+  +----------+ |
         +----------------------------+ -->
    <section class="reveal-section bg-dark pt-5 mt-3">
      <div class="container">
        <div class="animation-item fade-in p-1 fs-4"
          style="border-radius: 10px; text-align: justify;">
          Az <span class="text-danger">Alfa Romeo</span> több mint egy
            évszázada vezeti az innováció útját a kifinomult mérnöki megoldások
            és a versenysport iránti szenvedély révén. A cég kultikus modellekkel
            gazdagította a piacot, köztük olyan legendák, mint a
            <span class="text-success">Giulia</span>, a <span class="text-success">Spider</span>,
            vagy a szupersportautók csúcsa, a <span class="text-success">8C Competizione</span>.
        </div>
        <div class="row py-4">
          <div class="col-md-6 mb-5">
            <div class="viewable-image">
              <img src="giulia.jpg" class="animation-item slide-left img-fluid"
                   style="width: 100%; border-radius: 10px;">
            </div>
          </div>
          <div class="col-md-6 mb-5">
            <div class="viewable-image">
              <img src="spider.jpg" class="animation-item slide-right"
                   style="width: 100%; border-radius: 10px;">
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="reveal-section bg-dark container-fluid mt-3 text-center">
      <h1 class="animation-item slide-left-slow">&copy; 2024&nbsp;</h1>
      <h1 class="animation-item slide-right-slow">
        <span class="text-warning">milcsu09</span>
      </h1>
    </section>

    <script>
      // -- PUBLIC --
      const smallWidth = 768;
      const smallHeight = 640;

      const scrollCooldown = 450.0;
      var scrollData = { active: false, index: 0, };
      var scrollToIndex = undefined;

      const scrollSections = document.querySelectorAll("section.reveal-section");
      const animatedElements = document.querySelectorAll(".animation-item");

      var isWindowSmall = function() {
        const renderWidth  = window.innerWidth;
        const renderHeight = window.innerHeight;
        return renderWidth  <= smallWidth ||
               renderHeight <= smallHeight;
      };

      var loadAnimations = function() {
        if (isWindowSmall()) {
          animatedElements.forEach((element) => {
            element.classList.add("scrolled");
          });
        }
      };

      var displayAnimations = function(direction, initial=false) {
        const renderHeight = window.innerHeight;
        animatedElements.forEach((element) => {
          const elementTop = element.getBoundingClientRect().top;
          (elementTop - (renderHeight * direction) <= renderHeight
           && !initial)
            ? element.classList.add("scrolled")
            : setTimeout(() => {
              element.classList.remove("scrolled");
            }, scrollCooldown);
        });
      };

      // -- MAIN --
      window.addEventListener("DOMContentLoaded", function() {
        this.scrollToIndex = function(index, initial=false) {
          if (scrollData.active || isWindowSmall()) {
            return;
          }

          window.scrollTo({
            top: scrollSections[index].offsetTop,
            behavior: "smooth",
          });

          const direction = index - scrollData.index;
          this.displayAnimations(direction, initial);
          this.scrollData = { active: true, index: index, };
          setTimeout(() => {
            scrollData.active = false;
          }, scrollCooldown);
        };

        loadAnimations();
        this.scrollToIndex(0, true);
        setTimeout(() => {
          animatedElements[0].classList.add("scrolled");
        }, scrollCooldown);
      });

      // -- SCROLLING --
      window.addEventListener("wheel", function(event) {
        const direction = (event.deltaY > 0) ? 1 : -1;
        this.scrollToIndex(Math.min(
          Math.max(scrollData.index + direction, 0),
                   scrollSections.length - 1));
      });

      window.addEventListener("resize", function() {
        loadAnimations();
        if (!isWindowSmall()) {
          window.scrollTo({
            top: scrollSections[scrollData.index].offsetTop,
            behavior: "instant"
          });
        }
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>

